<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador de Movimiento Molecular</title>
<style>
    body {
        background-color: #000;
        color: #fff;
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
    }
    h1 {
        margin-top: 20px;
    }
    #contenedor {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 30px;
        margin-top: 30px;
        flex-wrap: wrap;
    }
    canvas {
        background-color: #111;
        border: 1px solid #fff;
        border-radius: 10px;
    }
    #panel {
        background-color: #111;
        padding: 15px;
        border-radius: 10px;
        width: 260px;
        text-align: left;
        box-shadow: 0 0 10px rgba(255,255,255,0.2);
    }
    input[type="range"] {
        width: 100%;
    }
    .barra {
        height: 20px;
        border-radius: 10px;
        margin: 10px 0;
        background: linear-gradient(90deg, #00f, #0ff, #ff0, #f00);
        width: 0%;
        transition: width 0.3s ease;
    }
    button {
        background-color: #222;
        color: #fff;
        border: 1px solid #888;
        border-radius: 5px;
        padding: 8px 15px;
        cursor: pointer;
        width: 100%;
        margin-top: 10px;
    }
    button:hover {
        background-color: #333;
    }
    footer {
        margin-top: 30px;
        font-size: 0.9em;
        opacity: 0.8;
    }
</style>
</head>
<body>

<h1>Simulador de Movimiento Molecular</h1>
<h3>Laboratorio de Termodinámica</h3>
<p>Conceptos: Temperatura, Calor, Energía</p>

<div id="contenedor">
    <canvas id="simulador" width="500" height="400"></canvas>
    <div id="panel">
        <h3>Estado del Simulador</h3>
        <p><b>Temperatura:</b> <span id="temp">25</span> °C</p>
        <p><b>Energía:</b> <span id="energia">Media</span></p>
        <p><b>Velocidad molecular:</b> <span id="velocidad">Moderada</span></p>
        <p><b>Estado:</b> <span id="estado">Líquido</span></p>
        <p><b>Observación:</b> <span id="observacion">Movimiento estable</span></p>

        <div class="barra" id="barraEnergia"></div>

        <label for="controlTemp">Temperatura</label>
        <input type="range" id="controlTemp" min="0" max="200" value="25">
        <button id="reiniciar">Reiniciar Simulador</button>
    </div>
</div>

<footer>© Rafael Moreno Bañaga</footer>

<script>
const canvas = document.getElementById("simulador");
const ctx = canvas.getContext("2d");
const tempSlider = document.getElementById("controlTemp");
const tempSpan = document.getElementById("temp");
const energiaSpan = document.getElementById("energia");
const velocidadSpan = document.getElementById("velocidad");
const estadoSpan = document.getElementById("estado");
const observacionSpan = document.getElementById("observacion");
const barraEnergia = document.getElementById("barraEnergia");
const reiniciarBtn = document.getElementById("reiniciar");

let temperatura = 25;
let moleculas = [];

function crearMoleculas() {
    moleculas = [];
    for (let i = 0; i < 40; i++) {
        moleculas.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 2,
            vy: (Math.random() - 0.5) * 2,
            r: 5 + Math.random() * 3,
            color: "cyan"
        });
    }
}

function actualizarMoleculas() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let m of moleculas) {
        m.x += m.vx;
        m.y += m.vy;
        if (m.x < m.r || m.x > canvas.width - m.r) m.vx *= -1;
        if (m.y < m.r || m.y > canvas.height - m.r) m.vy *= -1;

        ctx.beginPath();
        ctx.arc(m.x, m.y, m.r, 0, Math.PI * 2);
        ctx.fillStyle = m.color;
        ctx.fill();
    }
    requestAnimationFrame(actualizarMoleculas);
}

function colorTemperatura(temp) {
    if (temp < 20) return "#00aaff"; // Azul frío
    if (temp < 100) return "#ffff55"; // Amarillo medio
    return "#ff3300"; // Rojo caliente
}

function actualizarEstado() {
    let factor = temperatura / 25;
    moleculas.forEach(m => {
        m.vx = (Math.random() - 0.5) * factor * 2;
        m.vy = (Math.random() - 0.5) * factor * 2;
        m.color = colorTemperatura(temperatura);
    });

    tempSpan.textContent = temperatura;
    barraEnergia.style.width = (temperatura / 2) + "%";

    if (temperatura < 20) {
        energiaSpan.textContent = "Baja";
        velocidadSpan.textContent = "Lenta";
        estadoSpan.textContent = "Sólido";
        observacionSpan.textContent = "Moléculas casi inmóviles";
        barraEnergia.style.background = "linear-gradient(90deg, #00f, #0ff)";
    } else if (temperatura < 100) {
        energiaSpan.textContent = "Media";
        velocidadSpan.textContent = "Moderada";
        estadoSpan.textContent = "Líquido";
        observacionSpan.textContent = "Movimiento estable";
        barraEnergia.style.background = "linear-gradient(90deg, #0ff, #ff0)";
    } else {
        energiaSpan.textContent = "Alta";
        velocidadSpan.textContent = "Rápida";
        estadoSpan.textContent = "Gas";
        observacionSpan.textContent = "Moléculas muy dispersas";
        barraEnergia.style.background = "linear-gradient(90deg, #ff0, #f00)";
    }
}

tempSlider.addEventListener("input", () => {
    temperatura = parseInt(tempSlider.value);
    actualizarEstado();
});

reiniciarBtn.addEventListener("click", () => {
    temperatura = 25;
    tempSlider.value = 25;
    crearMoleculas();
    actualizarEstado();
});

crearMoleculas();
actualizarEstado();
actualizarMoleculas();
</script>

</body>
</html>
